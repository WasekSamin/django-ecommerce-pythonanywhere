{% load static %}

<div class="flex flex-col gap-y-5 mt-10 pt-5 border-t border-gray-300">
    <h5 id="product__detailAllReviewHeader" class="font-semibold text-base">All Reviews (<span>{{ number_of_reviews }}</span>)</h5>
    <div id="product__detailReviewsMainDiv" class="flex flex-col gap-y-5">
        {% if product_reviews %}
            {% for review in product_reviews %}
                <div class="flex items-start gap-x-1.5 product__reviewDiv">
                    <img data-src="{% if request.user.profile_pic %}{{ request.user.profile_pic.url }}{% else %}{% static 'static_images/default_profile.png' %}{% endif %}" class="min-w-[30px] w-[30px] max-w-[30px] h-[30px] bg-slate-200 rounded-full object-cover product__detailUserImg" alt="">
                    <div class="flex flex-col gap-y-1">
                        <p class="font-semibold">{{ review.user.username }}</p>
                        <div class="flex items-center gap-x-1">
                            <div>
                                <span class="iconify" data-icon="ant-design:star-{% if review.review_star >= 1 %}filled{% else %}outlined{% endif %}"></span>
                            </div>
                            <div>
                                <span class="iconify" data-icon="ant-design:star-{% if review.review_star >= 2 %}filled{% else %}outlined{% endif %}"></span>
                            </div>
                            <div>
                                <span class="iconify" data-icon="ant-design:star-{% if review.review_star >= 3 %}filled{% else %}outlined{% endif %}"></span>
                            </div>
                            <div>
                                <span class="iconify" data-icon="ant-design:star-{% if review.review_star >= 4 %}filled{% else %}outlined{% endif %}"></span>
                            </div>
                            <div>
                                <span class="iconify" data-icon="ant-design:star-{% if review.review_star == 5 %}filled{% else %}outlined{% endif %}"></span>
                            </div>
                        </div>
                        <p class="text-slate-600">
                            {{ review.comment }}
                        </p>
                        <p class="text-slate-600 text-xs">{{ review.created_at }}</p>
                    </div>
                </div>
            {% endfor %}
        {% else %}
            <div id="product__detailNoReviewDiv" class="text-rose-500 font-semibold">No Review yet!</div>
        {% endif %}
    </div>
</div>

<script src="{% static 'js/product_detail_reviews.js' %}"></script>